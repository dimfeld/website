---
title: "2023-11-17"
tags: 
date: 2023-11-17
updated: 2023-11-19
---


    
    <p>I added structural image similarity to <a href="/notes/projects_sbbp">SBBP</a> , so that screenshots from the video that are too similar to the previous one are automatically dropped out. This makes the viewing experience much better since you only see a new image when something has really changed since the previous one.</p>

    <h3>Learning</h3>
        <h4>Calculating Structural Similarity of Images</h4>
            <p>Turns out <code>scikit-image</code> in Python makes this really easy.</p>
            <pre><code><span class="sy-source sy-python"><span class="sy-meta sy-statement sy-import sy-python"><span class="sy-keyword sy-control sy-import sy-python">import</span> <span class="sy-meta sy-qualified-name sy-python"><span class="sy-meta sy-generic-name sy-python">cv2</span></span></span>
<span class="sy-meta sy-statement sy-import sy-python"><span class="sy-keyword sy-control sy-import sy-from sy-python">from</span></span><span class="sy-meta sy-statement sy-import sy-python"><span class="sy-meta sy-import-source sy-python"> <span class="sy-meta sy-import-path sy-python"><span class="sy-meta sy-import-name sy-python">skimage</span></span> <span class="sy-meta sy-statement sy-import sy-python"><span class="sy-keyword sy-control sy-import sy-python">import</span></span></span></span><span class="sy-meta sy-statement sy-import sy-python"></span><span class="sy-meta sy-statement sy-import sy-python"> <span class="sy-meta sy-generic-name sy-python">structured_similarity</span> <span class="sy-keyword sy-control sy-import sy-as sy-python">as</span> <span class="sy-meta sy-generic-name sy-python">ssim</span></span>
<span class="sy-meta sy-qualified-name sy-python"><span class="sy-meta sy-generic-name sy-python">img1</span></span> <span class="sy-keyword sy-operator sy-assignment sy-python">=</span> <span class="sy-meta sy-function-call sy-python"><span class="sy-meta sy-qualified-name sy-python"><span class="sy-meta sy-generic-name sy-python">cv2</span></span><span class="sy-meta sy-qualified-name sy-python"><span class="sy-punctuation sy-accessor sy-dot sy-python">.</span></span><span class="sy-meta sy-qualified-name sy-python"><span class="sy-variable sy-function sy-python"><span class="sy-meta sy-generic-name sy-python">imread</span></span></span></span><span class="sy-meta sy-function-call sy-arguments sy-python"><span class="sy-punctuation sy-section sy-arguments sy-begin sy-python">(</span><span class="sy-meta sy-item-access sy-python"><span class="sy-meta sy-qualified-name sy-python"><span class="sy-meta sy-generic-name sy-python">sys</span><span class="sy-punctuation sy-accessor sy-dot sy-python">.</span><span class="sy-meta sy-generic-name sy-python">argv</span></span></span><span class="sy-meta sy-item-access sy-python"><span class="sy-punctuation sy-section sy-brackets sy-begin sy-python">[</span></span><span class="sy-meta sy-item-access sy-arguments sy-python"><span class="sy-constant sy-numeric sy-integer sy-decimal sy-python">1</span></span><span class="sy-meta sy-item-access sy-python"><span class="sy-punctuation sy-section sy-brackets sy-end sy-python">]</span></span><span class="sy-punctuation sy-section sy-arguments sy-end sy-python">)</span></span>
<span class="sy-meta sy-qualified-name sy-python"><span class="sy-meta sy-generic-name sy-python">img2</span></span> <span class="sy-keyword sy-operator sy-assignment sy-python">=</span> <span class="sy-meta sy-function-call sy-python"><span class="sy-meta sy-qualified-name sy-python"><span class="sy-meta sy-generic-name sy-python">cv2</span></span><span class="sy-meta sy-qualified-name sy-python"><span class="sy-punctuation sy-accessor sy-dot sy-python">.</span></span><span class="sy-meta sy-qualified-name sy-python"><span class="sy-variable sy-function sy-python"><span class="sy-meta sy-generic-name sy-python">imread</span></span></span></span><span class="sy-meta sy-function-call sy-arguments sy-python"><span class="sy-punctuation sy-section sy-arguments sy-begin sy-python">(</span><span class="sy-meta sy-item-access sy-python"><span class="sy-meta sy-qualified-name sy-python"><span class="sy-meta sy-generic-name sy-python">sys</span><span class="sy-punctuation sy-accessor sy-dot sy-python">.</span><span class="sy-meta sy-generic-name sy-python">argv</span></span></span><span class="sy-meta sy-item-access sy-python"><span class="sy-punctuation sy-section sy-brackets sy-begin sy-python">[</span></span><span class="sy-meta sy-item-access sy-arguments sy-python"><span class="sy-constant sy-numeric sy-integer sy-decimal sy-python">2</span></span><span class="sy-meta sy-item-access sy-python"><span class="sy-punctuation sy-section sy-brackets sy-end sy-python">]</span></span><span class="sy-punctuation sy-section sy-arguments sy-end sy-python">)</span></span>
<span class="sy-meta sy-qualified-name sy-python"><span class="sy-meta sy-generic-name sy-python">sim</span></span> <span class="sy-keyword sy-operator sy-assignment sy-python">=</span> <span class="sy-meta sy-function-call sy-python"><span class="sy-meta sy-qualified-name sy-python"><span class="sy-variable sy-function sy-python"><span class="sy-meta sy-generic-name sy-python">ssim</span></span></span></span><span class="sy-meta sy-function-call sy-arguments sy-python"><span class="sy-punctuation sy-section sy-arguments sy-begin sy-python">(</span><span class="sy-meta sy-qualified-name sy-python"><span class="sy-meta sy-generic-name sy-python">img1</span></span><span class="sy-punctuation sy-separator sy-arguments sy-python">,</span> <span class="sy-meta sy-qualified-name sy-python"><span class="sy-meta sy-generic-name sy-python">img2</span></span><span class="sy-punctuation sy-separator sy-arguments sy-python">,</span> <span class="sy-variable sy-parameter sy-python">channel_axis</span><span class="sy-keyword sy-operator sy-assignment sy-python">=</span><span class="sy-constant sy-numeric sy-integer sy-decimal sy-python">2</span><span class="sy-punctuation sy-section sy-arguments sy-end sy-python">)</span></span>
</span></code></pre>




