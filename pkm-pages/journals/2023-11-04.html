---
title: "2023-11-04"
tags: 
date: 2023-11-04
updated: 2023-11-05
---


    
    <p>I&#39;ve spent the last few days building <a href="https://github.com/dimfeld/promptbox">PromptBox</a>, a utility allows maintaining libraries of LLM prompt templates which can be filled in and submitted from the command line. The templates are just TOML files like this.</p>
    <pre><code><span class="sy-source sy-toml"><span class="sy-comment sy-line sy-number-sign sy-toml"><span class="sy-punctuation sy-definition sy-comment sy-toml">#</span> File: summarize.pb.toml</span>

<span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">description</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-string sy-quoted sy-double sy-basic sy-toml"><span class="sy-punctuation sy-definition sy-string sy-begin sy-toml">&quot;</span>Summarize some files<span class="sy-punctuation sy-definition sy-string sy-end sy-toml">&quot;</span></span>

<span class="sy-comment sy-line sy-number-sign sy-toml"><span class="sy-punctuation sy-definition sy-comment sy-toml">#</span> This can also be template_path to read from another file.</span>
<span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">template</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-string sy-quoted sy-triple sy-literal sy-block sy-toml"><span class="sy-punctuation sy-definition sy-string sy-begin sy-toml">&#39;&#39;&#39;</span>
Create a {{style}} summary of the below files
which are on the topic of {{topic}}. The summary should be about {{ len }} sentences long.

{% for f in file -%}
File {{ f.filename }}:
{{ f.contents }}


{%- endfor %}
<span class="sy-punctuation sy-definition sy-string sy-end sy-toml">&#39;&#39;&#39;</span></span>

<span class="sy-punctuation sy-definition sy-table sy-begin sy-toml">[</span><span class="sy-meta sy-tag sy-table sy-toml"><span class="sy-entity sy-name sy-table sy-toml">model</span></span><span class="sy-punctuation sy-definition sy-table sy-end sy-toml">]</span>
<span class="sy-comment sy-line sy-number-sign sy-toml"><span class="sy-punctuation sy-definition sy-comment sy-toml">#</span> These model options can also be defined in a config file to apply to the whole directory of templates.</span>
<span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">model</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-string sy-quoted sy-double sy-basic sy-toml"><span class="sy-punctuation sy-definition sy-string sy-begin sy-toml">&quot;</span>gpt-3.5-turbo<span class="sy-punctuation sy-definition sy-string sy-end sy-toml">&quot;</span></span>
<span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">temperature</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-constant sy-numeric sy-float sy-toml">0.7</span>
<span class="sy-comment sy-line sy-number-sign sy-toml"><span class="sy-punctuation sy-definition sy-comment sy-toml">#</span> Also supports top_p, frequency_penalty, presence_penalty, stop, and max_tokens</span>

<span class="sy-punctuation sy-definition sy-table sy-begin sy-toml">[</span><span class="sy-meta sy-tag sy-table sy-toml"><span class="sy-entity sy-name sy-table sy-toml">options</span></span><span class="sy-punctuation sy-definition sy-table sy-end sy-toml">]</span>
<span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">len</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-punctuation sy-definition sy-inline-table sy-begin sy-toml">{</span> <span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">type</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-string sy-quoted sy-double sy-basic sy-toml"><span class="sy-punctuation sy-definition sy-string sy-begin sy-toml">&quot;</span>int<span class="sy-punctuation sy-definition sy-string sy-end sy-toml">&quot;</span></span><span class="sy-punctuation sy-separator sy-inline-table sy-toml">,</span> <span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">description</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-string sy-quoted sy-double sy-basic sy-toml"><span class="sy-punctuation sy-definition sy-string sy-begin sy-toml">&quot;</span>The length of the summary<span class="sy-punctuation sy-definition sy-string sy-end sy-toml">&quot;</span></span><span class="sy-punctuation sy-separator sy-inline-table sy-toml">,</span> <span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">default</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-constant sy-numeric sy-integer sy-toml">4</span> <span class="sy-punctuation sy-definition sy-inline-table sy-end sy-toml">}</span>
<span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">topic</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-punctuation sy-definition sy-inline-table sy-begin sy-toml">{</span> <span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">type</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-string sy-quoted sy-double sy-basic sy-toml"><span class="sy-punctuation sy-definition sy-string sy-begin sy-toml">&quot;</span>string<span class="sy-punctuation sy-definition sy-string sy-end sy-toml">&quot;</span></span><span class="sy-punctuation sy-separator sy-inline-table sy-toml">,</span> <span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">description</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-string sy-quoted sy-double sy-basic sy-toml"><span class="sy-punctuation sy-definition sy-string sy-begin sy-toml">&quot;</span>The topic of the summary<span class="sy-punctuation sy-definition sy-string sy-end sy-toml">&quot;</span></span> <span class="sy-punctuation sy-definition sy-inline-table sy-end sy-toml">}</span>
<span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">style</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-punctuation sy-definition sy-inline-table sy-begin sy-toml">{</span> <span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">type</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-string sy-quoted sy-double sy-basic sy-toml"><span class="sy-punctuation sy-definition sy-string sy-begin sy-toml">&quot;</span>string<span class="sy-punctuation sy-definition sy-string sy-end sy-toml">&quot;</span></span><span class="sy-punctuation sy-separator sy-inline-table sy-toml">,</span> <span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">default</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-string sy-quoted sy-double sy-basic sy-toml"><span class="sy-punctuation sy-definition sy-string sy-begin sy-toml">&quot;</span>concise<span class="sy-punctuation sy-definition sy-string sy-end sy-toml">&quot;</span></span> <span class="sy-punctuation sy-definition sy-inline-table sy-end sy-toml">}</span>
<span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">file</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-punctuation sy-definition sy-inline-table sy-begin sy-toml">{</span> <span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">type</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-string sy-quoted sy-double sy-basic sy-toml"><span class="sy-punctuation sy-definition sy-string sy-begin sy-toml">&quot;</span>file<span class="sy-punctuation sy-definition sy-string sy-end sy-toml">&quot;</span></span><span class="sy-punctuation sy-separator sy-inline-table sy-toml">,</span> <span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">array</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-constant sy-language sy-toml">true</span><span class="sy-punctuation sy-separator sy-inline-table sy-toml">,</span> <span class="sy-meta sy-tag sy-key sy-toml"><span class="sy-entity sy-name sy-tag sy-toml">description</span></span> <span class="sy-punctuation sy-definition sy-key-value sy-toml">=</span> <span class="sy-string sy-quoted sy-double sy-basic sy-toml"><span class="sy-punctuation sy-definition sy-string sy-begin sy-toml">&quot;</span>The files to summarize<span class="sy-punctuation sy-definition sy-string sy-end sy-toml">&quot;</span></span> <span class="sy-punctuation sy-definition sy-inline-table sy-end sy-toml">}</span>
</span></code></pre>
    <p>Each of these options becomes a CLI option which can help fill in the template.</p>
    <p>It works with OpenAI for the usual case, but you can also run it against LM Studio or Ollama if you like local LLMs. If you give it a try, let me know what you think!</p>



