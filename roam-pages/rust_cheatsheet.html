---
title: "Rust Cheatsheet"
tags: cheat sheet, Rust
date: 2020-08-17
updated: 2021-01-25
---


  <ul class="list-bullet">
    <li id="84GS6ofUj"><span class="rm-heading-2">Partial Moves</span>
      <ul class="list-bullet">
        <li id="xvfCTr9ns">Rust doesn&#39;t allow moving part of a structure out, but there are better ways than just <code>clone</code>.</li>
        <li id="mwkz7YR99">Use <code>mem::replace</code> to take items out from structures without needing to take ownership of the entire thing. </li>
        <li id="IfWH4LhgU">Destructuring also helps when you want to eventually move all the items out of the structure.</li>
      </ul>
    </li>
    <li id="CrzgRR4-V"><span class="rm-heading-1">Serde</span>
      <ul class="list-bullet">
        <li id="JnFQbZUVM">To enable auto-derive of Serialize and Deserialize traits, the best way is to enable the <code>derive</code> feature in the <code>serde</code> crate. You can also just include the <code>serde-derive</code> crate manually.</li>
      </ul>
    </li>
    <li id="nxo3PCTCo"><span class="rm-heading-2">Performance</span>
      <ul class="list-bullet">
        <li id="Nvq-IRBQF"><code>fxhash</code> crate is good for fast hashing that doesn&#39;t need to be cryptographically secure.</li>
        <li id="AvK5PYpWl"><a href="https://nnethercote.github.io/perf-book/">Rust Performance Book</a></li>
        <li id="i_28WH52k">Enable Link-time Optimization
          <ul class="list-bullet">
            <li id="lky8O-CVG"><pre><code><span class="hljs-source hljs-js"><span class="hljs-meta hljs-sequence hljs-js"><span class="hljs-punctuation hljs-section hljs-brackets hljs-js">[</span><span class="hljs-variable hljs-other hljs-object hljs-js">profile</span><span class="hljs-punctuation hljs-accessor hljs-js">.</span><span class="hljs-meta hljs-property hljs-object hljs-js">release</span><span class="hljs-punctuation hljs-section hljs-brackets hljs-js">]</span></span>
<span class="hljs-variable hljs-other hljs-readwrite hljs-js">lto</span> <span class="hljs-keyword hljs-operator hljs-assignment hljs-js">=</span> <span class="hljs-constant hljs-language hljs-boolean hljs-true hljs-js">true</span></span></code></pre></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>


